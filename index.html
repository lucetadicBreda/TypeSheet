<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="TypeSheet - Interactive pixel typography system with customizable grids, fonts, and visual effects built with p5.js">
    <meta name="keywords" content="typography, pixel art, p5js, interactive, grid, font, design">
    <meta name="author" content="TypeSheet">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="TypeSheet - Pixel Typography System">
    <meta property="og:description" content="Interactive pixel typography system with customizable grids, fonts, and visual effects">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="TypeSheet - Pixel Typography System">
    <meta property="twitter:description" content="Interactive pixel typography system with customizable grids, fonts, and visual effects">

    <title>TypeSheet - Pixel Typography System</title>

    <link rel="stylesheet" type="text/css" href="./style.css">
    <style>
      .menu-panel {
        position: fixed;
        left: 20px;
        top: 20px;
        width: 200px;
        background: white;
        border: 2px solid black;
        padding: 20px;
        z-index: 1000;
        font-family: Arial, sans-serif;
        transition: all 0.3s ease;
      }
      
      /* Dark mode menu styling */
      body.dark-mode .menu-panel {
        background: black;
        border: 2px solid white;
        color: white;
      }
      
      .logo {
        margin-top: 15px;
        margin-bottom: 35px;
        text-align: center;
      }
      
      .menu-button {
        display: block;
        width: 100%;
        margin: 8px 0;
        padding: 8px;
        background: white;
        color: black;
        border: 1px solid black;
        font-size: 12px;
        cursor: pointer;
        text-align: center;
        transition: all 0.3s ease;
      }
      
      .menu-button:hover {
        background: #f0f0f0;
      }
      
      .menu-button.active {
        background: black;
        color: white;
      }
      
      /* Dark mode button styling */
      body.dark-mode .menu-button {
        background: black;
        color: white;
        border: 1px solid white;
      }
      
      body.dark-mode .menu-button:hover {
        background: #333;
      }
      
      body.dark-mode .menu-button.active {
        background: white;
        color: black;
      }
      
      .section-divider {
        height: 1px;
        background: black;
        margin: 15px 0;
        transition: all 0.3s ease;
      }
      
      .mode-option {
        display: inline-block;
        margin: 5px 5px 5px 0;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 12px;
        border: 1px solid black;
        transition: all 0.3s ease;
      }
      
      .mode-option.active {
        background: black;
        color: white;
      }
      
      /* Dark mode styling for dividers and mode options */
      body.dark-mode .section-divider {
        background: white;
      }
      
      body.dark-mode .mode-option {
        border: 1px solid white;
        color: white;
      }
      
      body.dark-mode .mode-option.active {
        background: white;
        color: black;
      }
      
      /* Dark mode logo styling */
      body.dark-mode .logo-svg rect {
        fill: white;
      }
      
      /* Minimalistic Welcome Overlay */
      .welcome-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.95);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: Arial, sans-serif;
      }
      
      body.dark-mode .welcome-overlay {
        background: rgba(0, 0, 0, 0.95);
        color: white;
      }
      
      .welcome-content {
        background: white;
        border: 2px solid black;
        padding: 30px;
        max-width: 400px;
        text-align: center;
        font-size: 14px;
        line-height: 1.5;
      }
      
      body.dark-mode .welcome-content {
        background: black;
        border: 2px solid white;
        color: white;
      }
      
      .welcome-button {
        margin-top: 20px;
        padding: 10px 20px;
        background: white;
        border: 2px solid black;
        cursor: pointer;
        font-family: Arial, sans-serif;
        font-size: 12px;
        font-weight: bold;
      }
      
      .welcome-button:hover {
        background: black;
        color: white;
      }
      
      body.dark-mode .welcome-button {
        background: black;
        border: 2px solid white;
        color: white;
      }
      
      body.dark-mode .welcome-button:hover {
        background: white;
        color: black;
      }
      
      .hidden {
        display: none;
      }
    </style>

    <script src="./libraries/p5.min.js"></script>
    <script src="./libraries/p5.sound.min.js"></script>
  </head>

  <body>
    <!-- Welcome Overlay -->
    <div id="welcomeOverlay" class="welcome-overlay">
      <div class="welcome-content">
        <strong>TYPESHEET//</strong><br><br>
        Start typing to create pixel text<br>
        Select row/column then resize with touchpad pinch, mouse scroll or +/-<br>
        Use left panel for shapes & effects<br><br>
        <button class="welcome-button" onclick="hideWelcome()">START >></button>
      </div>
    </div>
    
    <div class="menu-panel">
      <div class="logo">
        <svg width="100%" height="36" viewBox="0 0 200 36" style="margin-bottom: 10px;" class="logo-svg">
          <!-- T -->
          <rect x="0" y="4" width="20" height="4" fill="black"/>
          <rect x="8" y="8" width="4" height="24" fill="black"/>
          <!-- Y -->
          <rect x="24" y="4" width="4" height="12" fill="black"/>
          <rect x="32" y="4" width="4" height="12" fill="black"/>
          <rect x="28" y="16" width="4" height="16" fill="black"/>
          <!-- P -->
          <rect x="40" y="4" width="4" height="28" fill="black"/>
          <rect x="44" y="4" width="10" height="4" fill="black"/>
          <rect x="54" y="8" width="4" height="6" fill="black"/>
          <rect x="44" y="14" width="10" height="4" fill="black"/>
          <!-- E -->
          <rect x="62" y="4" width="4" height="28" fill="black"/>
          <rect x="66" y="4" width="14" height="4" fill="black"/>
          <rect x="66" y="16" width="12" height="4" fill="black"/>
          <rect x="66" y="28" width="14" height="4" fill="black"/>
          <!-- S -->
          <rect x="84" y="4" width="14" height="4" fill="black"/>
          <rect x="84" y="8" width="4" height="8" fill="black"/>
          <rect x="84" y="16" width="14" height="4" fill="black"/>
          <rect x="94" y="20" width="4" height="8" fill="black"/>
          <rect x="84" y="28" width="14" height="4" fill="black"/>
          <!-- H -->
          <rect x="102" y="4" width="4" height="28" fill="black"/>
          <rect x="106" y="16" width="10" height="4" fill="black"/>
          <rect x="116" y="4" width="4" height="28" fill="black"/>
          <!-- E -->
          <rect x="124" y="4" width="4" height="28" fill="black"/>
          <rect x="128" y="4" width="14" height="4" fill="black"/>
          <rect x="128" y="16" width="12" height="4" fill="black"/>
          <rect x="128" y="28" width="14" height="4" fill="black"/>
          <!-- E -->
          <rect x="146" y="4" width="4" height="28" fill="black"/>
          <rect x="150" y="4" width="14" height="4" fill="black"/>
          <rect x="150" y="16" width="12" height="4" fill="black"/>
          <rect x="150" y="28" width="14" height="4" fill="black"/>
          <!-- T -->
          <rect x="168" y="4" width="32" height="4" fill="black"/>
          <rect x="182" y="8" width="4" height="24" fill="black"/>
        </svg>
      </div>
      
      <button class="menu-button" id="squaresBtn">//Squares //</button>
      <button class="menu-button" id="gridBtn">Random Grid</button>
      <button class="menu-button" id="fontBtn">Default Font #1</button>
      <button class="menu-button" id="importFontBtn">Import Font</button>
      <button class="menu-button" id="filledBtn">Filled</button>
      <button class="menu-button" id="sizeBtn">SizeX1</button>
      <button class="menu-button" id="animBtn">Animation #1</button>
      <button class="menu-button" id="pauseBtn">‚è∏ Pause Animations</button>
      <button class="menu-button" id="photoBtn">Import Photo</button>
      
      <div class="section-divider"></div>
      
      <div style="font-size: 12px; font-weight: bold; margin-bottom: 10px;">Mode >></div>
      <div class="mode-option active" id="lightMode">Light//</div>
      <div class="mode-option" id="darkMode">Dark</div>
      
      <div class="section-divider"></div>
      
      <div style="font-size: 12px; font-weight: bold; margin-bottom: 10px;">Export >></div>
      <div class="mode-option" onclick="exportFile('SVG')">SVG //</div>
      <div class="mode-option" onclick="exportFile('PNG')">PNG//</div>
    </div>
    
    <script src="./sketch_complete.js"></script>
    <script>
      // Add menu functionality
      document.getElementById('squaresBtn').onclick = () => toggleButton('squaresBtn', toggleShape);
      document.getElementById('gridBtn').onclick = () => toggleButton('gridBtn', toggleAnimation);
      document.getElementById('fontBtn').onclick = () => toggleButton('fontBtn', toggleFont);
      document.getElementById('importFontBtn').onclick = () => toggleButton('importFontBtn', toggleCustomFont);
      document.getElementById('filledBtn').onclick = () => toggleButton('filledBtn', toggleOutline);
      document.getElementById('sizeBtn').onclick = () => toggleButton('sizeBtn', toggleLetterSize);
      document.getElementById('animBtn').onclick = () => toggleButton('animBtn', toggleShapeScaling);
      document.getElementById('photoBtn').onclick = () => toggleButton('photoBtn', togglePhotoMode);
      document.getElementById('pauseBtn').onclick = () => toggleAnimationPause();
      
      document.getElementById('lightMode').onclick = () => setMode(false);
      document.getElementById('darkMode').onclick = () => setMode(true);
      
      function toggleButton(btnId, originalFunction) {
        const btn = document.getElementById(btnId);
        btn.classList.toggle('active');
        if (typeof originalFunction === 'function') {
          originalFunction();
        }
      }
      
      function setMode(isDark) {
        document.getElementById('lightMode').classList.toggle('active', !isDark);
        document.getElementById('darkMode').classList.toggle('active', isDark);
        
        // Toggle dark mode class on body for menu styling
        document.body.classList.toggle('dark-mode', isDark);
        
        // Update p5.js dark mode variable
        if (typeof toggleDarkMode === 'function') {
          darkMode = isDark;
        }
      }
      
      function exportFile(format) {
        console.log('Exporting as:', format);
        if (typeof exportCleanCanvas === 'function') {
          exportCleanCanvas(format);
        }
      }
      
      // Hide welcome overlay
      function hideWelcome() {
        document.getElementById('welcomeOverlay').classList.add('hidden');
      }
      
      // Also hide on any key press or canvas click
      document.addEventListener('keydown', hideWelcome);
      document.addEventListener('click', function(e) {
        if (e.target.tagName === 'CANVAS') {
          hideWelcome();
        }
      });
    </script>
  </body>
</html>
