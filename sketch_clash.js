let cellSize = 15; // Grid squares made 15x15 pixels
let cols, rows;
let allLines = []; // Store all lines of text
let currentLine = []; // Current line being typed
let currentRow = 3;
let sizeSlider;

function setup() {
  createCanvas(windowWidth, windowHeight);
  cols = Math.floor(width / cellSize);
  rows = Math.floor(height / cellSize);
  
  // Create slider for grid size (adjusted for larger default)
  sizeSlider = createSlider(5, 25, 15, 1);
  sizeSlider.position(20, 20);
  sizeSlider.size(200);
}

function draw() {
  background(255);
  
  // Update cell size from slider (only if slider exists and value changed)
  if (sizeSlider) {
    cellSize = sizeSlider.value();
    cols = Math.floor(width / cellSize);
    rows = Math.floor(height / cellSize);
  }
  
  // Draw grid
  stroke(200);
  strokeWeight(1);
  for (let i = 0; i <= cols; i++) {
    line(i * cellSize, 0, i * cellSize, height);
  }
  for (let j = 0; j <= rows; j++) {
    line(0, j * cellSize, width, j * cellSize);
  }
  
  // Draw all previous lines
  for (let lineIndex = 0; lineIndex < allLines.length; lineIndex++) {
    let line = allLines[lineIndex];
    let lineRow = 3 + lineIndex * 11;
    for (let i = 0; i < line.length; i++) {
      if (line[i] !== ' ') {
        drawLetter(line[i], 3 + i * 12, lineRow);
      }
    }
  }
  
  // Draw current line
  if (currentLine.length > 0) {
    for (let i = 0; i < currentLine.length; i++) {
      if (currentLine[i] !== ' ') {
        drawLetter(currentLine[i], 3 + i * 12, currentRow);
      }
    }
  }
  
  // Draw instructions
  fill(0);
  noStroke();
  textSize(12);
  text("ClashGrotesk-inspired letters | Type letters | Backspace=delete | Enter=new line", 20, height - 50);
  text("Uppercase and lowercase letters supported", 20, height - 35);
  text("Grid size: " + cellSize + "px", 20, height - 20);
}

function keyPressed() {
  // Calculate max letters per line (each letter takes 12 cells, starting at position 3)
  let maxLettersPerLine = Math.floor((cols - 3) / 12);
  
  // Letters (both upper and lowercase)
  if ((keyCode >= 65 && keyCode <= 90) || (keyCode >= 97 && keyCode <= 122)) {
    // Check if adding this letter would exceed line limit
    if (currentLine.length >= maxLettersPerLine) {
      // Move to next line automatically
      allLines.push([...currentLine]);
      currentLine = [];
      currentRow += 11;
      // Check if we need to wrap to top
      if (currentRow + 9 >= rows) {
        currentRow = 3;
      }
    }
    // Keep the original case (upper or lower)
    currentLine.push(key);
    return false;
  }
  
  // Backspace (keyCode 8)
  if (keyCode === 8) {
    if (currentLine.length > 0) {
      currentLine.pop();
    } else if (allLines.length > 0) {
      // If current line is empty, get the last line
      currentLine = allLines.pop();
      currentRow -= 11;
      if (currentRow < 3) {
        currentRow = 3;
      }
    }
    return false;
  }
  
  // Enter (keyCode 13)  
  if (keyCode === 13) {
    allLines.push([...currentLine]);
    currentLine = [];
    currentRow += 11;
    if (currentRow + 9 >= rows) {
      currentRow = 3;
    }
    return false;
  }
  
  // Up arrow (keyCode 38)
  if (keyCode === 38) {
    currentRow = Math.max(3, currentRow - 11);
    return false;
  }
  
  // Down arrow (keyCode 40)
  if (keyCode === 40) {
    currentRow = Math.min(rows - 11, currentRow + 11);
    return false;
  }
  
  // Space (keyCode 32)
  if (keyCode === 32) {
    // Check if adding space would exceed line limit
    if (currentLine.length >= maxLettersPerLine) {
      // Move to next line automatically
      allLines.push([...currentLine]);
      currentLine = [];
      currentRow += 11;
      // Check if we need to wrap to top
      if (currentRow + 9 >= rows) {
        currentRow = 3;
      }
    }
    currentLine.push(' ');
    return false;
  }
}

function drawLetter(letter, gridX, gridY) {
  // ClashGrotesk-inspired letter patterns (9x9 grid) - both uppercase and lowercase
  let patterns = {
    // UPPERCASE LETTERS - ClashGrotesk style (geometric, slightly condensed)
    'A': [
      [0,0,0,1,1,1,0,0,0],
      [0,0,1,1,0,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,1,1,1,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'B': [
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'C': [
      [0,0,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'D': [
      [0,1,1,1,1,1,0,0,0],
      [0,1,1,0,0,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,1,1,0,0],
      [0,1,1,1,1,1,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'E': [
      [0,1,1,1,1,1,1,1,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,1,1,1,0,0,0],
      [0,1,1,1,1,1,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,1,1,1,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'F': [
      [0,1,1,1,1,1,1,1,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,1,1,1,0,0,0],
      [0,1,1,1,1,1,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'G': [
      [0,0,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,1,1,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'H': [
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,1,1,1,1,1,0],
      [0,1,1,1,1,1,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'I': [
      [0,1,1,1,1,1,1,1,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,1,1,1,1,1,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'J': [
      [0,0,1,1,1,1,1,1,0],
      [0,0,0,0,1,1,0,0,0],
      [0,0,0,0,1,1,0,0,0],
      [0,0,0,0,1,1,0,0,0],
      [0,0,0,0,1,1,0,0,0],
      [0,1,1,0,1,1,0,0,0],
      [0,1,1,0,1,1,0,0,0],
      [0,0,1,1,1,0,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'K': [
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,1,1,0,0],
      [0,1,1,0,1,1,0,0,0],
      [0,1,1,1,1,0,0,0,0],
      [0,1,1,1,1,0,0,0,0],
      [0,1,1,0,1,1,0,0,0],
      [0,1,1,0,0,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'L': [
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,1,1,1,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'M': [
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,1,0,1,1,1,0],
      [0,1,1,1,1,1,1,1,0],
      [0,1,1,0,1,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'N': [
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,1,0,0,1,1,0],
      [0,1,1,1,1,0,1,1,0],
      [0,1,1,0,1,1,1,1,0],
      [0,1,1,0,0,1,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'O': [
      [0,0,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'P': [
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'Q': [
      [0,0,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,1,0,1,1,0],
      [0,1,1,0,0,1,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,0,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'R': [
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,1,1,0,0,0],
      [0,1,1,0,0,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'S': [
      [0,0,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,0,0,0],
      [0,0,1,1,1,1,0,0,0],
      [0,0,0,0,1,1,1,0,0],
      [0,0,0,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'T': [
      [0,1,1,1,1,1,1,1,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'U': [
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'V': [
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,0,1,1,0,0],
      [0,0,1,1,0,1,1,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,0,1,0,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'W': [
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,1,0,1,1,0],
      [0,1,1,1,1,1,1,1,0],
      [0,1,1,1,0,1,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'X': [
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,0,1,1,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,0,1,0,0,0,0],
      [0,0,0,0,1,0,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,1,1,0,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'Y': [
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,0,1,1,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,0,1,0,0,0,0],
      [0,0,0,0,1,0,0,0,0],
      [0,0,0,0,1,0,0,0,0],
      [0,0,0,0,1,0,0,0,0],
      [0,0,0,0,1,0,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'Z': [
      [0,1,1,1,1,1,1,1,0],
      [0,0,0,0,0,1,1,0,0],
      [0,0,0,0,1,1,0,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,1,1,1,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    
    // LOWERCASE LETTERS - ClashGrotesk style (smaller height, geometric)
    'a': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,0,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'b': [
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'c': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,0,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'd': [
      [0,0,0,0,0,0,1,1,0],
      [0,0,0,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'e': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,0,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,1,1,1,1,1,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'f': [
      [0,0,0,1,1,1,1,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,1,1,1,1,1,0,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'g': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,0,1,1,1,1,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,1,0],
      [0,0,0,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'h': [
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'i': [
      [0,0,0,1,1,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,0,1,1,1,0,0,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,1,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'j': [
      [0,0,0,0,1,1,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,0,1,1,0,0,0],
      [0,0,0,0,1,1,0,0,0],
      [0,0,0,0,1,1,0,0,0],
      [0,1,1,0,1,1,0,0,0],
      [0,0,1,1,1,0,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'k': [
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,1,1,0,0],
      [0,1,1,0,1,1,0,0,0],
      [0,1,1,1,1,0,0,0,0],
      [0,1,1,1,1,0,0,0,0],
      [0,1,1,0,1,1,0,0,0],
      [0,1,1,0,0,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'l': [
      [0,0,1,1,1,0,0,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,1,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'm': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,1,0,1,1,0],
      [0,1,1,0,1,0,1,1,0],
      [0,1,1,0,1,0,1,1,0],
      [0,1,1,0,1,0,1,1,0],
      [0,1,1,0,1,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'n': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'o': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,0,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'p': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'q': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,0,1,1,1,1,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,1,0],
      [0,0,0,0,0,0,1,1,0],
      [0,0,0,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'r': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,1,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    's': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,0,1,1,1,1,1,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,0,1,1,1,1,0,0,0],
      [0,0,0,0,0,1,1,0,0],
      [0,1,1,0,0,1,1,0,0],
      [0,0,1,1,1,1,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    't': [
      [0,0,1,1,0,0,0,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,1,1,1,1,1,0,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,0,1,1,0,0,1,1,0],
      [0,0,0,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'u': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'v': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,0,1,1,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,0,1,0,0,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'w': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,1,1,0,1,0,1,1,0],
      [0,1,1,0,1,0,1,1,0],
      [0,1,1,0,1,0,1,1,0],
      [0,1,1,0,1,0,1,1,0],
      [0,1,1,1,1,1,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'x': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,0,1,1,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,0,1,1,1,0,0,0],
      [0,0,1,1,0,1,1,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'y': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,1,1,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,1,0],
      [0,0,0,0,0,0,1,1,0],
      [0,0,1,1,1,1,1,0,0],
      [0,0,0,0,0,0,0,0,0]
    ],
    'z': [
      [0,0,0,0,0,0,0,0,0],
      [0,0,0,0,0,0,0,0,0],
      [0,1,1,1,1,1,1,1,0],
      [0,0,0,0,0,1,1,0,0],
      [0,0,0,1,1,0,0,0,0],
      [0,0,1,1,0,0,0,0,0],
      [0,1,1,0,0,0,0,0,0],
      [0,1,1,1,1,1,1,1,0],
      [0,0,0,0,0,0,0,0,0]
    ]
  };
  
  if (patterns[letter]) {
    let pattern = patterns[letter];
    fill(0);
    noStroke();
    for (let y = 0; y < pattern.length; y++) {
      for (let x = 0; x < pattern[y].length; x++) {
        if (pattern[y][x] === 1) {
          rect((gridX + x) * cellSize, (gridY + y) * cellSize, cellSize, cellSize);
        }
      }
    }
  }
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
  cols = Math.floor(width / cellSize);
  rows = Math.floor(height / cellSize);
  sizeSlider.position(20, 20);
}
